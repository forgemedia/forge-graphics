// Style variables
$bug-border-radius: $bug-height / 4;
$bug-border-width: 0;

// Business logic
$bug-border: $bug-border-width solid $border-colour;

$logo-left: $main-margin + 0.2vw;
$logo-width: $logo-left + 9vw;

#bug {
    position: absolute;
    top: $lower-third-height;
    z-index: 2;

    > * {
        position: absolute;
        height: $bug-height;
        line-height: $bug-height;
        border: $bug-border;
        overflow: hidden;
        padding-left: 0.5vw;
        box-shadow: $right-box-shadow;
    }

    .noBoxShadow {
        box-shadow: none;
    }

    #logo {
		@include overlay($colour-b);

        width: $logo-width;
        z-index: 2;

        img {
            display: inline-block;
            position: absolute;

			&#polls {
	            height: 4vw;
	            transform: translate(-5%, -10%) rotate(6deg);
	            opacity: 0.45;
	            margin-left: $logo-left;
	        }

	        &#forge {
	            top: 0.55vw;
	            height: 1.8vw;
	            left: $logo-left + 2vw;
	        }
        }

		&.ng-hide {
	        transform: translateX(-10vw);
	        opacity: 0;
	    }

	    &.ng-hide-add,
	    &.ng-hide-remove {
	        transition: transform 0.75s $cubic-bezier, opacity 0.75s $cubic-bezier;
	    }

	    &.ng-hide-add {
	        transition-timing-function: $cubic-bezier-reverse;
	        transition-delay: 0.25s;
	    }
    }

    .liveSegment {
		@include overlay($light-colour);
		color: $dark-colour;

        padding-top: 0.1vw;
        width: 8.5vw;
        left: $logo-width - 1vw;
        z-index: 1;

		transition: all 0.5s $cubic-bezier 0.3s;

		.liveSegmentText {
            transition: opacity .5s $cubic-bezier, transform .5s $cubic-bezier;
            text-align: center;

            > span {
		        font-size: 2.25vw;
                width: 100%;
                position: absolute;
                line-height: $bug-height;
                transform: translate(-52%, -2%) perspective(1px);
                padding-left: 0.6vw;
                letter-spacing: -0.1vw;
            }

			&.ng-hide {
				transition-timing-function: $cubic-bezier-reverse;
				transform: translate(50%, 0);
				opacity: 0;
			}

			&.ng-hide-remove {
				transform: translate(-50%, 0);
				opacity: 0;
			}
        }

		&.redLive {
			@include overlay($colour-d);
			color: $light-colour;
		}

		&.ng-hide {
			opacity: 0;
			transform: translate(-15vw, 0);
		}

		&.ng-hide-remove {
			transition-duration: 1s;
			transition-delay: 0.5s;
		}

		&.ng-hide-add {
			transition-timing-function: $cubic-bezier-reverse;
			transition-delay: 0s;
		}
    }
}
